<div class="fs-nav-frame-logo" [class.opened]="!isClosed">
  <div class="logo-wrapper">
    <button mat-icon-button (click)="toggleSidemenu()">
      <div class="logo-picture" *ngIf="navFrameConfig.logoSrc != ('' || undefined)" style="background-image: url('{{ navFrameConfig.logoSrc }}');"></div>
      <span class="material-icons" *ngIf="navFrameConfig.logoSrc == ('' || undefined)">menu</span>
    </button>
  </div>
  <div class="app-info-wrapper" [class.opened]="!isClosed">
    <span class="app-name" *ngIf="!isClosed">{{ navFrameConfig.appName }}</span>
    <span class="app-version" *ngIf="!isClosed">{{ navFrameConfig.appVersion }}</span>
  </div>
</div>

<ng-content select="fs-nav-frame-toolbar"></ng-content>

<div class="sidebar" [class.opened]="!isClosed">
  <!-- Navigation -->
  <ng-container *ngTemplateOutlet="navLinks || defaultNavLinksTemplate; context: { $implicit: navRoutes }"></ng-container>

  <!-- User Profile -->
  <ng-content select="fs-nav-user-profile"></ng-content>
</div>

<div class="glassplane" [class.opened]="!isClosed" (click)="closeSidebar()"></div>
<ng-content select="fs-nav-frame-content" [class.opened]="!isClosed"></ng-content>

<!-- Navigation defaut template -->
<ng-template #defaultNavLinksTemplate let-navLinks>
  <ul class="nav-links">
    <li *ngFor="let item of navRoutes" [class.active]="item.path === isActivePath">
      <!--  class="badge" data-badge="2" -->
      <button mat-button [routerLink]="item.path" (click)="closeSidebar()">
        <mat-icon [class.badge]="item.badgeNumber" [attr.data-badge]="item.badgeNumber != undefined ? item.badgeNumber : false">
          {{ item.icon }}
        </mat-icon>
        <span class="link-name" *ngIf="!isClosed">{{ item.title }}</span>
      </button>
      <button mat-icon-button [attr.aria-label]="'Expand menu for' + item.title" *ngIf="!isClosed && item.childrens" (click)="item.open = !item.open">
        <mat-icon>expand_more</mat-icon>
      </button>

      <ng-container *ngIf="item.open">
        <ul class="nav-links-l2">
          <li *ngFor="let chItems of item.childrens">
            <button mat-button [routerLink]="chItems.path" (click)="closeSidebar()">
              {{ chItems.title }}
            </button>
          </li>
        </ul>
      </ng-container>
    </li>
  </ul>
</ng-template>
